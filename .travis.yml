language: java
sudo: required
jdk:
- oraclejdk8
addons:
  srcclr: true
  apt:
    packages:
    - oracle-java8-installer
    - libc6-i386
cache:
  directories:
  - $HOME/.m2
before_install:
- openssl aes-256-cbc -K $encrypted_785164d58e00_key -iv $encrypted_785164d58e00_iv
  -in github_deploy_key.enc -out github_deploy_key -d
- git clone -b travis `git config --get remote.origin.url` target/travis
install:
- echo Install phase has been disabled as a complete build is run during deployment
script:
- mvn test jacoco:report coveralls:report --settings target/travis/settings.xml
before_cache:
- mvn site site:deploy --settings target/travis/settings.xml -DskipTests=true
- mvn deploy --settings target/travis/settings.xml -DskipTests=true
after_success:
  - git checkout master
  - \curl -sSL https://get.rvm.io | bash -s stable --ruby
  - rvm reload
  - gem install github_changelog_generator -v 1.13.0
  - github_changelog_generator
  - grep "." github_deploy_key >> ~/.ssh/id_rsa
  - chmod 400 ~/.ssh/id_rsa
  - git config --global user.email $GH_USER_EMAIL
  - git config --global user.name $GH_USER_NAME
  - git add CHANGELOG.md
  - git commit -m "[skip ci] Updated Changelog"
  - git push git@github.com:vatbub/defaultRepo.git master
branches:
  only:
  - master
notifications:
  email:
    recipients:
    - vatbub123+travisbuildnotification@googlemail.com
    on_success: never
on_failure: always
env:
  global:
  - secure: TcAPj8QjCqouo+vD9EDbp2WWR9RalfBHra+VIMI1tzYZM+Kkr9wmOLvOL/hS1REiCLKEon1gxlJLRXj2xqwwPJyjVdzOzMX5Kfu5XoiJxfsdcQqJsAzbH4Z9xJGKq9GlcuPGM4/ZM8VPQDI5aEz44JnxP4jnh81XQk+2z+dKtfDfr82YnRdxgCwgmARHgB9fDjbUW1rSWWrgjcUdqmitID0Y6qiW0U8KVE+MPEWjOAQ+PK0HthNwkTqLdcan9IMrA/UFRjmYOA95pCC1/cnxpd4GztNMeeVggYwsM8kzaaS5cSm8KjKeoYPzkp17+9KnDFheX0g8I65MYWKTY7xx4ZxSthjDxAuU4gGgSYsPANaJrGwOODniaCBpkZ1dFEt5gmoC16SzvNFsWZkII1t6G0CyPYljzq/iqd7HHEX+Mi/ybV9CW2F3ysjA4GKsN2g65bl+Cjeyhsl35f1pT7kPab9jm7T3HPInpdLmH4vRJ80WUgn1bi12V6fFuBnWpLv56ndM+Gq5fE6mDre8219vIQQDxWYTcxGH9LTERz3HjILid4SoPj1wQtFMbzxwf+pt3qGnw/+glYvD9joMNWrjhcJwbVF0ePjY3oOld16bhuM3zzksVPSvfhrFb5shKDidM61hlHSx/rSrds6IhKcCjAL/TGXjqtYbZ1y3Kx5jhuo=
  - secure: ZBSlrBlow4An6DpXxysKd0A+HDL/2HKxukDBqkfpm7Jr0jOTcK2VHYG5GjMdU/yx4DN8RpuvpGG5a7mPjaySlm5oKqPCdnIFRRa3gDkP/XkfMWeQP6PDh7wiXfkqqaGRlO4yZ2xJyKjqvMK5Xn7J9IDt+D0uGfMJvo+fLjYYCSzC3Oa7E/2inqE/sCvqo3mNKsFYjhRpxiuq0MRiECoMc+zTXeazI5Y/WOrF2PDo8+Z6Pp4iQdys1r+tWdHLgd4LgY3qKWicZhRmKZRZP/4Jjy2wpnfgsmiaUDT2xYVDcqj42j7rfQGoCsjBSCKpDNZSIFKtMbSEl9tNCeEVZ1gqKUVdPXxYg6/x6uOTNBeHKLaMCt9yBLSWWfSe6MsKLY+wCjjVW0v1pQ+dB3h3FgAozlK7H8Wx8mJuezH52JgfP92ArdR5nD5jsitc01c7G9GLnW15WXFd8cvgt8rCScGR6OFsfk/dJE85b5/J6z0RstrPm6GJJkRU+Icv2W8J56TA0B3dRuQCRfIzVbUpWOt02zis/mw8z4S0Bln7AVYZW4NniafSjIPbelXI0f+mMhRrm5rW0CsbEd++S2h3S7ILYaqhl6KohwQKoqeDppoqjhja6FzCZX9lItFyi4eoExLpKp3E8QpFnHJl7EU9wcIGm5OwUMQ5HfJC54BwqYzUWTY=
  - secure: fSji1YSn+4x3XSjPNJI3S2XOENqgB5GU4GDYfTeestXweJWYRxi4BhVrs5xQiK42oDOt+nwg2tICidzU/QQBdUmoSwDKcTcRV6p666ezr2JyZbrziaKCD5dQwPh5tme5APChjVOqPNTPAtdGYPsHfZFpKInqtNkcN0tCZ7mMf4X2neibsgjUxYHhwWMDUkJYGMmaiaLukIaqY4/HuCLUCYk9+HceXIDUvoktjKjtwB2n9tpXOSllWANMt3WFo3sMYFXxZh0riHO3WXgCS05/DGD0cbhu8VPmHyh2SW3R8J4K1ssfIwjaMnLdQTnYvSsZ19zp0Z9VyYlcyvqNkT8K0Gi2wWvp7XkbLmSjIklFkDzvqbIuyC1xaboqPou24OlZLZrtvegtr5GaR57cE3kIDFMi9of3HDe+oFA5W+vmueQaHFP83lcWVJC9MADx9/WVes0e+218pSzHFIg4QVRnkcBIaDe91soZ2ZG/GA+27iTgfSLweXstDUlIHq3QlS3BeMv3PVrJWnKBV5HTClJpe1XWir07GpabL0aJhadS+om4K0pinkJxvAx9Xu//dKNNJkPN608ekpjW0028VZY5N6tTe29wmMBIN7hpI4oI8IbD80lmXpdeGdxNP/2W1rtGLu8BE1er990ZtpF0dMkopM5SnePpbZ5fq8Wse+nbMU4=
  - secure: dzmyTRauQZ6XaPTXBLScl7w1ciKtpTLEOduZr072hXs2rplCXGf8s8alCDlRckidtn5ZHcEZ7E0RRPuoyHkGZb28hGaJEFy7WdttfBXJ6SFiVXmJETcJ5IAAPVepWIYddk3OfBTcWaCm6yFFGk0JbnipJRekQTxX+NSaJUiCUVYCcMRnUpuDZwj31DoMk8cJjUZLUwFDdy5YyXVDxYHnqONHQFt5OyTraSJ9LxcHzEHVjR/gcU9hJgnkk+t0aeyjO/3a8SovckrD0/ePdY3VK8dHPVACdVMDJssna0QaoBxzb/ZDhfBvQXYiBl6JTiqYo4QDEqiJFKNnj5nF8DOEqCtZWpB5C1naeuju3DkShAVQwc8dURbHVmoK/7af8oRcAVQGG3rGPkP49Sfonlrt1e8eF6cXJVn1CU5z+rNaIKSKYo8ZyuavskutrWeKBY8+Q8SjvTJpZUVpId1vdAJT0Ulg81Vreu6M5QUOVjZ040G+sPNs56sgYqtgJzYcrTHVOpQyVuUMTOCtcQqpPl+Fhnwf1FLkUnd41Lx+YN8HNau+WJ4JxX4P3psgH+WD/pUOo9BsNZm/8lI5EobySJa9XT0zDTPBrp4cngkoS/SzpFjC1Nj4QA9pjvHC8r90dSZC65/OEG2/P9tyCz9om3bQYLOpVmxSxeV4yzI5H1+45eM=
  - secure: BtREV30oMy9+BnDMtzt1MpSZdPk51yBnqqTe5trZT/E5Y7jFmvcapJca+EuwEK8b6/xuztGbuR4Ii/5o+X6kQK/CkMgW6aipdcsOcuuqwsfxsWmL5py8dfHUpp9bHa9wPwhdwQ7S88GDAzLcCBQG42NjEFK7HjDFqPCvDdDHOFjAaWZm4CDputJ/JOdo1s30+pzwhdp9DcSxnlkTqifLYbPG4B0K3mPaX7Y6PD0M91LMhafCmTJyRblYqqt4LWpd6uoSnpVwhAyLu3lfbLsE6mpOwerkqu3IJLPSoWX8cVIZmwfqs9IquWoPM4BJyvNCCLEmlKEDl8gnFFKjdFChuP6JGTLbA7i4VizB67Lx+W3lBe0V7L5M3IFzZ179PzTuyVkNlj0M5RmXu4siRISjajcLR+sEkrK19PFrj02n/kv3s2dfxWr5VwwvGCtMi2xeq5Svbn7gBSPYo4V1qHhNSyycJTR5dsE4D9YDf2Oh+ISksaG6I3pkRdUONWzGRdnzxKDQ3UfPOKudLIbaE4vmeV01RcmUfEhYdjoqV7ovapPU11hK8VlFAhVJO0G1V26RLwUsmNrUJn+sINW5c90B/xTy3XBno1dAzZFRy96zjMZjBzmll2zQgxL57yIXxnxK8TKxYDL21f5D2e3gFcjl0M723asKYlXOoNjsX+6qWcw=
  - secure: M8S6pRQ06ck39W5rWkgiMUHdPrcb0NW+FotKRIwWcVzo5PZuWhket9qjZ0SeVK7mX1ik7UW2vO56Du1mgOXzV/B5UzaqVURJUgCF8xlgaHsmj0b50eFsGcyUi3/fJh2DOGBP8ctDjK3H6u0UTtKYKiKVNt6qkUXl6FWxliQnuJtuP1SU4W/2d53YSexu/2JmRh6E8+8tCI8P+ztAqcMh8sMiB4YPYq30Ck8hrwdkKtZ2Aq07anuaC0H+oHoL6tT4LlVkxWBXN3DedhoYaU7SawRjsbv6nFqZn+7Gq97B+GBG0I1BldAmBm7wjA+vh4VdcXej/6AeXbWD102wubbp5586T+ABQ5Xuyc3WII0JsM3/ay5ni3ZoJQ8+exTyx0oFuSMzSaXmVeA4lPs+yOvU9hD/Dm3/6zKR9IOLKICvbZa1mjzdD/Z2d3cNQDtzjWhU4fppB98yYToS+O+1MTWcqeTH496e0KRBwDmi6AWdFwC1OcH4dDqtEpNVn4D/oDkPlvot93MtvalmO3pTBi0NMwD8e8J9oA3gIIIWUV+3DD0y7lhxTsekLytnDM50d06h1ejINRFPhssg1G/7GDNobCArJjAPZdPDoUT5dPZKOf8/S6XzUo/8KHNqJTMlYtQqnRxTwVJaRNuI302yY+P9tqPTF7uUnyDRpCOt02kFnKs=
